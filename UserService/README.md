# UserService

## Описание
UserService API предоставляет RESTful интерфейс для управления пользователями.
Сервис включает в себя функционал для создания, получения, обновления, удаления пользователей, а так же
отправки кодов подтверждения.
Этот сервис обеспечивает основную бизнес-логику работы с пользователями.

При запуске проекта, создаются два пользователя со следующими данными:


| USER              | Username | Password | firstName | lastName | email           | roles                     |                                          
|-------------------|----------|----------|-----------|----------|-----------------|---------------------------|
| **1st test user** | user     | user     | user      | user     | hdnhdxv@mail.ru | ROLE_USER                 |
| **2nd test user** | admin    | admin    | admin     | admin    | hdnhdxv@mail.ru | ROLE_USER,<br/>ROLE_ADMIN |

## Настройка Swagger-UI
1. Запускаем Spring Boot приложение (через интерфейс Services, Alt + 8 в IntelliJ IDEA),
   а именно сервер EurekaServerApplication
2. Запускаем через Services сервис UserServiceApplication
3. После успешного запуска, рядом с названием сервиса появится назначенный порт -
   переходим по нему
4. Добавляем к "localhost:<port>" ==>  /swagger-ui/index.html (вместо <port> будет назначенный сервером порт)


## API Методы в Swagger-UI
### UserControllerRest
REST-контроллер для управления пользователями.
Обрабатывает HTTP-запросы, связанные с созданием, получением, обновлением и удалением пользователей.

| Метод        | Endpoint                          | Описание                                             |
|--------------|-----------------------------------|------------------------------------------------------|
| **POST**     | **/users**                        | Создание нового пользователя                         |
| **GET**      | **/users**                        | Получение всех пользователей                         |
| **GET**      | **/users/{id}**                   | Получение пользователя по его идентификатору         |
| **PUT**      | **/users**                        | Обновление информации о пользователе                 |
| **DELETE**   | **/users/{id}**                   | Удаление пользователя по его идентификатору          |
| **GET**      | **/users/find**                   | Поиск пользователя по email                          |
| **POST**     | **/users/register**               | Регистрация нового пользователя                      |
| **GET**      | **/users/verify**                 | Подтверждение пользователя по коду подтверждения     |
| **POST**     | **/users/resend-code/{userId}**   | Повторная отправка кода подтверждения пользователю   |

### AdditionalController
REST-контроллер предоставляет API-методы для чтения списка электронных адресов (emails) на основе списка идентификаторов пользователей (userIds).

### Пример API метода:
**Endpoint:** `/list`  
**Метод:** `POST`  
**Описание:** Получение списка электронных адресов (emails) на основе списка идентификаторов пользователей (userIds).

**Пример запроса:**
```json
[
  1, 2, 3
]
```

**Пример ответа:** список электронных адресов, соответствующих переданным идентификаторам пользователей.
```

   {
      [
         "user1@example.com",
         "user2@example.com",
         "user3@example.com"
      ]
   }
   ```
### Actuator
- Сервис доступен по адресу "http://localhost:порт/actuator/", где "порт" текущий порт микросервиса.
- Набор метрик доступен по адресу "http://localhost:порт/actuator/metrics"
- Отдельные метрики доступны по адресу "http://localhost:порт/actuator/metrics/название метрики"